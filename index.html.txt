<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä¿¡ä»°ç”Ÿå‘½å¥æª¢é‡è¡¨</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Microsoft JhengHei", sans-serif; background: linear-gradient(to bottom, #fafaf9, #fef3c7); min-height: 100vh; padding: 24px; line-height: 1.8; font-size: 22px; }
    .container { max-width: 700px; margin: 0 auto; }
    .card { background: white; border-radius: 24px; padding: 32px; margin-bottom: 24px; box-shadow: 0 4px 16px rgba(0,0,0,0.1); }
    h1 { font-size: 34px; color: #292524; text-align: center; margin-bottom: 12px; }
    h2 { font-size: 28px; color: #44403c; margin-bottom: 16px; }
    h3 { font-size: 24px; color: #57534e; margin-bottom: 12px; }
    p { color: #57534e; font-size: 20px; margin-bottom: 12px; }
    .subtitle { text-align: center; color: #78716c; margin-bottom: 32px; font-size: 22px; }
    .verse-box { background: #fffbeb; border-radius: 18px; padding: 24px; text-align: center; margin-bottom: 32px; border: 2px solid #fde68a; }
    .verse-box p { color: #92400e; font-style: italic; margin-bottom: 8px; font-size: 22px; }
    .verse-box .ref { color: #b45309; font-size: 18px; font-style: normal; }
    .btn { display: block; width: 100%; padding: 22px; border: none; border-radius: 50px; font-size: 22px; font-weight: 600; cursor: pointer; transition: all 0.2s; }
    .btn-primary { background: #57534e; color: white; }
    .btn-primary:hover { background: #44403c; }
    .btn-secondary { background: #e7e5e4; color: #57534e; }
    .btn-secondary:hover { background: #d6d3d1; }
    .btn:disabled { background: #d6d3d1; color: #a8a29e; cursor: not-allowed; }
    .progress-bar { display: flex; gap: 8px; margin-bottom: 28px; }
    .progress-segment { flex: 1; height: 14px; border-radius: 7px; background: #e7e5e4; transition: background 0.3s; }
    .dimension-header { display: flex; align-items: center; gap: 18px; padding: 24px; border-radius: 18px; margin-bottom: 24px; }
    .dimension-icon { font-size: 48px; }
    .dimension-title { font-weight: 700; font-size: 26px; }
    .dimension-desc { font-size: 20px; opacity: 0.85; margin-top: 4px; }
    .question-card { background: #fafaf9; border-radius: 18px; padding: 24px; margin-bottom: 18px; }
    .question-text { color: #44403c; font-size: 21px; margin-bottom: 18px; line-height: 1.6; }
    .scale-buttons { display: flex; gap: 10px; }
    .scale-btn { flex: 1; padding: 18px 8px; border: none; border-radius: 14px; font-size: 22px; font-weight: 700; cursor: pointer; background: #e7e5e4; color: #78716c; transition: all 0.2s; }
    .scale-btn:hover { background: #d6d3d1; }
    .scale-btn.selected { color: white; }
    .scale-labels { display: flex; justify-content: space-between; margin-top: 10px; font-size: 16px; color: #a8a29e; }
    .nav-buttons { display: flex; gap: 16px; margin-top: 28px; }
    .nav-buttons .btn { flex: 1; }
    .result-bar { margin-bottom: 20px; }
    .result-bar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
    .result-bar-label { font-size: 20px; font-weight: 600; color: #44403c; }
    .result-bar-score { font-size: 20px; font-weight: 700; }
    .result-bar-track { height: 20px; background: #e7e5e4; border-radius: 10px; overflow: hidden; }
    .result-bar-fill { height: 100%; border-radius: 10px; transition: width 0.5s ease; }
    .pattern-box { border-radius: 18px; padding: 24px; margin-bottom: 24px; }
    .pattern-title { font-size: 26px; font-weight: 700; margin-bottom: 12px; }
    .pattern-note { font-style: italic; font-size: 20px; margin-bottom: 16px; }
    .suggestion-box { background: white; border-radius: 14px; padding: 18px; }
    .suggestion-box p { font-size: 20px; }
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px; }
    .strength-box, .growth-box { border-radius: 18px; padding: 18px; }
    .strength-box { background: #ecfdf5; }
    .growth-box { background: #fef2f2; }
    .strength-box h4 { color: #047857; font-size: 20px; margin-bottom: 12px; }
    .growth-box h4 { color: #dc2626; font-size: 20px; margin-bottom: 12px; }
    .strength-box p { color: #059669; font-size: 19px; margin-bottom: 8px; }
    .growth-box p { color: #ef4444; font-size: 19px; margin-bottom: 8px; }
    .teaching-accordion { border-radius: 18px; overflow: hidden; margin-bottom: 12px; }
    .teaching-header { width: 100%; padding: 20px; border: none; background: none; display: flex; justify-content: space-between; align-items: center; cursor: pointer; font-size: 21px; font-weight: 600; }
    .teaching-content { padding: 0 20px 20px; display: none; }
    .teaching-content.open { display: block; }
    .teaching-scripture { background: white; border-radius: 14px; padding: 18px; margin-bottom: 16px; }
    .teaching-scripture p { font-size: 19px; margin-bottom: 10px; line-height: 1.6; }
    .teaching-scripture .ref { color: #a8a29e; font-size: 17px; }
    .teaching-practices { background: white; border-radius: 14px; padding: 18px; margin-bottom: 16px; }
    .teaching-practices p { font-size: 19px; margin-bottom: 8px; }
    .teaching-warning { background: #fef3c7; border-radius: 14px; padding: 18px; }
    .teaching-warning p { color: #b45309; font-size: 19px; }
    .footer-verse { background: #292524; border-radius: 22px; padding: 28px; text-align: center; margin-bottom: 24px; }
    .footer-verse .label { color: #a8a29e; font-size: 18px; margin-bottom: 12px; }
    .footer-verse .text { color: white; font-size: 22px; font-weight: 500; margin-bottom: 8px; line-height: 1.6; }
    .footer-verse .ref { color: #78716c; font-size: 19px; }
    .hidden { display: none !important; }
    .dim-rose { background: #fff1f2; border: 2px solid #fecdd3; }
    .dim-rose .dimension-title, .dim-rose .dimension-desc { color: #be123c; }
    .dim-emerald { background: #ecfdf5; border: 2px solid #a7f3d0; }
    .dim-emerald .dimension-title, .dim-emerald .dimension-desc { color: #047857; }
    .dim-blue { background: #eff6ff; border: 2px solid #bfdbfe; }
    .dim-blue .dimension-title, .dim-blue .dimension-desc { color: #1d4ed8; }
    .dim-amber { background: #fffbeb; border: 2px solid #fde68a; }
    .dim-amber .dimension-title, .dim-amber .dimension-desc { color: #b45309; }
    .dim-purple { background: #faf5ff; border: 2px solid #e9d5ff; }
    .dim-purple .dimension-title, .dim-purple .dimension-desc { color: #7c3aed; }
    .dim-slate { background: #f8fafc; border: 2px solid #cbd5e1; }
    .dim-slate .dimension-title, .dim-slate .dimension-desc { color: #475569; }
    .bar-rose { background: #fb7185; }
    .bar-emerald { background: #34d399; }
    .bar-blue { background: #60a5fa; }
    .bar-amber { background: #fbbf24; }
    .bar-purple { background: #a78bfa; }
    .bar-slate { background: #94a3b8; }
    .score-rose { color: #be123c; }
    .score-emerald { color: #047857; }
    .score-blue { color: #1d4ed8; }
    .score-amber { color: #b45309; }
    .score-purple { color: #7c3aed; }
    .score-slate { color: #475569; }
    .pattern-amber { background: #fffbeb; border: 2px solid #fde68a; }
    .pattern-amber .pattern-title, .pattern-amber .pattern-note, .pattern-amber p { color: #92400e; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Intro Screen -->
    <div id="intro-screen">
      <div class="card" style="text-align: center; padding: 40px 24px;">
        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ“Š</div>
        <h1>ä¿¡ä»°ç”Ÿå‘½å¥æª¢é‡è¡¨</h1>
        <p class="subtitle">å…­å€‹é¢å‘ãƒ»æ•´å…¨ç”Ÿå‘½ãƒ»è–ç¶“æ ¹åŸº</p>
        <p style="margin-bottom: 24px;">é€™ä»½é‡è¡¨å¹«åŠ©ä½ å¾å…­å€‹é¢å‘æª¢è¦–ä¿¡ä»°ç”Ÿå‘½çš„å¥åº·ç‹€æ…‹ï¼Œæœ€å¾Œå°‡å‘ˆç¾ä½ çš„ä¿¡ä»°æ¨¡å¼åˆ†æèˆ‡æˆé•·å»ºè­°ã€‚</p>
        <div class="verse-box">
          <p>ã€ŒæƒŸç”¨æ„›å¿ƒèªªèª å¯¦è©±ï¼Œå‡¡äº‹é•·é€²ï¼Œé€£æ–¼å…ƒé¦–åŸºç£ã€‚ã€</p>
          <span class="ref">â€” ä»¥å¼—æ‰€æ›¸ 4:15</span>
        </div>
        <button class="btn btn-primary" onclick="startAssessment()">é–‹å§‹è©•ä¼°</button>
      </div>
    </div>

    <!-- Assessment Screen -->
    <div id="assessment-screen" class="hidden">
      <div class="progress-bar" id="progress-bar"></div>
      <div id="dimension-header"></div>
      <div id="questions-container"></div>
      <div class="nav-buttons">
        <button class="btn btn-secondary" id="prev-btn" onclick="prevDimension()">ä¸Šä¸€é …</button>
        <button class="btn btn-primary" id="next-btn" onclick="nextDimension()" disabled>ä¸‹ä¸€é …</button>
      </div>
    </div>

    <!-- Result Screen -->
    <div id="result-screen" class="hidden">
      <div class="card">
        <h2 style="text-align: center; margin-bottom: 16px;">ä½ çš„ä¿¡ä»°ç”Ÿå‘½åˆ†æ</h2>
        <div id="result-bars"></div>
      </div>
      <div id="pattern-analysis"></div>
      <div class="grid-2">
        <div class="strength-box">
          <h4>âœ¨ ä½ çš„å¼·é …</h4>
          <div id="strengths"></div>
        </div>
        <div class="growth-box">
          <h4>ğŸŒ± æˆé•·ç©ºé–“</h4>
          <div id="growth-areas"></div>
        </div>
      </div>
      <div class="card">
        <h3>ğŸ“– æ•´å…¨ç”Ÿå‘½çš„æ•™å°</h3>
        <p style="margin-bottom: 16px;">é»æ“Šå„é¢å‘æŸ¥çœ‹è–ç¶“æ ¹åŸºèˆ‡æ“ç·´å»ºè­°</p>
        <div id="teachings-container"></div>
      </div>
      <div class="footer-verse">
        <p class="label">æ•´å…¨ä¿¡ä»°ç”Ÿå‘½çš„æ ¸å¿ƒ</p>
        <p class="text">ã€ŒæƒŸç”¨æ„›å¿ƒèªªèª å¯¦è©±ï¼Œå‡¡äº‹é•·é€²ï¼Œé€£æ–¼å…ƒé¦–åŸºç£ï¼Œå…¨èº«éƒ½é ä»–è¯çµ¡å¾—åˆå¼ã€‚ã€</p>
        <p class="ref">â€” ä»¥å¼—æ‰€æ›¸ 4:15-16</p>
      </div>
      <button class="btn btn-secondary" onclick="restart()">é‡æ–°è©•ä¼°</button>
    </div>
  </div>

<script>
const dimensions = [
  {
    id: 'godward', name: 'å‘ä¸Šï¼šèˆ‡ç¥çš„é—œä¿‚', icon: 'ğŸ”¥', color: 'rose',
    description: 'æ•¬æ‹œã€ç¦±å‘Šã€æ¸´æ…•ç¥',
    questions: [
      'æˆ‘æ¸´æœ›è¦ªè¿‘ç¥ï¼Œä¸åªæ˜¯å› ç‚ºæœ‰éœ€è¦æ‰ä¾†åˆ°ç¥‚é¢å‰',
      'æˆ‘åœ¨æ•¬æ‹œä¸­èƒ½çœŸå¯¦åœ°å‘ç¥æ•é–‹å¿ƒ',
      'ç¦±å‘Šæ˜¯æˆ‘ç”Ÿæ´»ä¸­è‡ªç„¶çš„ä¸€éƒ¨åˆ†ï¼Œè€Œéåªæœ‰å›ºå®šæ™‚æ®µ',
      'æˆ‘ç¶“æ­·éç¥çš„åŒåœ¨å¸¶çµ¦æˆ‘å¹³å®‰èˆ‡åŠ›é‡'
    ],
    teaching: {
      core: 'å¥åº·çš„ä¿¡ä»°ç”Ÿå‘½å§‹æ–¼èˆ‡ç¥çœŸå¯¦çš„é—œä¿‚ã€‚é€™ä¸æ˜¯å®—æ•™å„€å¼ï¼Œè€Œæ˜¯æ„›çš„é€£çµã€‚',
      scripture: [
        { verse: 'ä½ å€‘è¦ªè¿‘ç¥ï¼Œç¥å°±å¿…è¦ªè¿‘ä½ å€‘ã€‚', ref: 'é›…å„æ›¸ 4:8' },
        { verse: 'ç¥æ˜¯å€‹éˆï¼Œæ‰€ä»¥æ‹œä»–çš„å¿…é ˆç”¨å¿ƒéˆå’Œèª å¯¦æ‹œä»–ã€‚', ref: 'ç´„ç¿°ç¦éŸ³ 4:24' },
        { verse: 'ä½ å€‘è¦å˜—å˜—ä¸»æ©çš„æ»‹å‘³ï¼Œä¾¿çŸ¥é“ä»–æ˜¯ç¾å–„ã€‚', ref: 'è©©ç¯‡ 34:8' }
      ],
      practices: [
        'æ¯å¤©è¨­å®šä¸€æ®µã€Œç„¡è­°ç¨‹ã€çš„å®‰éœæ™‚é–“ï¼Œå–®ç´”ä¾†åˆ°ç¥é¢å‰',
        'å­¸ç¿’ç”¨è©©ç¯‡ä½œç‚ºç¦±å‘Šçš„èªè¨€ï¼Œå¹«åŠ©è¡¨é”å…§å¿ƒ',
        'åœ¨æ—¥å¸¸ç‘£äº‹ä¸­ç·´ç¿’æ„è­˜åˆ°ç¥çš„åŒåœ¨'
      ],
      warning: 'ç•¶æ•¬æ‹œè®Šæˆä¾‹è¡Œå…¬äº‹ï¼Œç¦±å‘Šåªå‰©ä¸‹æ¸…å–®ï¼Œå¯èƒ½æ˜¯èˆ‡ç¥é—œä¿‚ç–é çš„å¾µå…†ã€‚'
    }
  },
  {
    id: 'inward', name: 'å‘å…§ï¼šç”Ÿå‘½çš„å¡‘é€ ', icon: 'ğŸŒ±', color: 'emerald',
    description: 'è®€ç¶“ã€é»˜æƒ³ã€å“æ ¼æ›´æ–°',
    questions: [
      'æˆ‘æœ‰è¦å¾‹è®€ç¶“çš„ç¿’æ…£ï¼Œä¸¦å˜—è©¦ç†è§£èˆ‡æ‡‰ç”¨',
      'è–ç¶“çš„è©±èªå½±éŸ¿æˆ‘çš„æ€è€ƒæ–¹å¼èˆ‡ç”Ÿæ´»æ±ºå®š',
      'æˆ‘èª å¯¦é¢å°è‡ªå·±çš„è»Ÿå¼±èˆ‡ç½ªï¼Œé¡˜æ„è¢«ç¥æ”¹è®Š',
      'æˆ‘å¯ä»¥çœ‹è¦‹è‡ªå·±é€™ä¸€å¹´åœ¨å“æ ¼ä¸Šçš„æˆé•·'
    ],
    teaching: {
      core: 'ç”Ÿå‘½æ”¹è®Šä¸æ˜¯é æ„å¿—åŠ›ï¼Œè€Œæ˜¯é€éç¥çš„è©±èªæ›´æ–°æˆ‘å€‘çš„å¿ƒæ€æ„å¿µã€‚',
      scripture: [
        { verse: 'ä½ çš„è©±æ˜¯æˆ‘è…³å‰çš„ç‡ˆï¼Œæ˜¯æˆ‘è·¯ä¸Šçš„å…‰ã€‚', ref: 'è©©ç¯‡ 119:105' },
        { verse: 'ä¸è¦æ•ˆæ³•é€™å€‹ä¸–ç•Œï¼Œåªè¦å¿ƒæ„æ›´æ–°è€Œè®ŠåŒ–ã€‚', ref: 'ç¾…é¦¬æ›¸ 12:2' },
        { verse: 'è–ç¶“éƒ½æ˜¯ç¥æ‰€é»˜ç¤ºçš„ï¼Œæ–¼æ•™è¨“ã€ç£è²¬ã€ä½¿äººæ­¸æ­£ã€æ•™å°äººå­¸ç¾©éƒ½æ˜¯æœ‰ç›Šçš„ã€‚', ref: 'ææ‘©å¤ªå¾Œæ›¸ 3:16' }
      ],
      practices: [
        'é¸æ“‡ä¸€å·æ›¸é€£çºŒç ”è®€ï¼Œè€Œéè·³èºå¼é–±è®€',
        'è®€ç¶“å¾Œå•è‡ªå·±ï¼šé€™æ®µç¶“æ–‡è¦æˆ‘ç›¸ä¿¡ä»€éº¼ï¼Ÿè¦æˆ‘åšä»€éº¼ï¼Ÿ',
        'æ‰¾ä¸€ä½å±¬éˆåŒä¼´å½¼æ­¤åˆ†äº«è®€ç¶“å¿ƒå¾—ï¼Œäº’ç›¸ç£è²¬'
      ],
      warning: 'çŸ¥è­˜çš„å¢åŠ è‹¥æ²’æœ‰å¸¶ä¾†ç”Ÿå‘½çš„æ”¹è®Šï¼Œå¯èƒ½è½å…¥æ³•åˆ©è³½äººçš„é™·é˜±ã€‚'
    }
  },
  {
    id: 'outward', name: 'å‘å¤–ï¼šç¦éŸ³çš„ä½¿å‘½', icon: 'ğŸŒ', color: 'blue',
    description: 'è¦‹è­‰ã€å‚³ç¦éŸ³ã€ç¤¾æœƒé—œæ‡·',
    questions: [
      'æˆ‘é—œå¿ƒé‚„ä¸èªè­˜ä¸»çš„æœ‹å‹ã€å®¶äººã€åŒäº‹çš„éˆé­‚',
      'æˆ‘é¡˜æ„åœ¨ç”Ÿæ´»ä¸­è‡ªç„¶åœ°åˆ†äº«ä¿¡ä»°ç¶“æ­·',
      'æˆ‘ç‚ºç¦éŸ³æœ‹å‹ç¦±å‘Šï¼Œä¸¦å‰µé€ æ©Ÿæœƒè®“ä»–å€‘æ¥è§¸ä¿¡ä»°',
      'æˆ‘é—œå¿ƒç¤¾æœƒçš„éœ€è¦ï¼Œä¸¦ä»¥è¡Œå‹•å›æ‡‰'
    ],
    teaching: {
      core: 'å¥åº·çš„ç”Ÿå‘½æœƒè‡ªç„¶æµéœ²ã€‚æˆ‘å€‘é ˜å—æ©å…¸ï¼Œä¹Ÿæˆç‚ºæ©å…¸çš„å‡ºå£ã€‚',
      scripture: [
        { verse: 'æ‰€ä»¥ï¼Œä½ å€‘è¦å»ï¼Œä½¿è¬æ°‘ä½œæˆ‘çš„é–€å¾’ã€‚', ref: 'é¦¬å¤ªç¦éŸ³ 28:19' },
        { verse: 'ä½ å€‘æ˜¯ä¸–ä¸Šçš„å…‰...ä½ å€‘çš„å…‰ä¹Ÿç•¶é€™æ¨£ç…§åœ¨äººå‰ã€‚', ref: 'é¦¬å¤ªç¦éŸ³ 5:14-16' },
        { verse: 'æœ‰äººå•ä½ å€‘å¿ƒä¸­ç›¼æœ›çš„ç·£ç”±ï¼Œå°±è¦å¸¸ä½œæº–å‚™å›ç­”å„äººã€‚', ref: 'å½¼å¾—å‰æ›¸ 3:15' }
      ],
      practices: [
        'åˆ—å‡º5ä½ä½ æƒ³ç‚ºä»–å€‘ç¦±å‘Šçš„ç¦éŸ³æœ‹å‹ï¼ŒæŒçºŒä»£æ±‚',
        'ç·´ç¿’ç”¨30ç§’åˆ†äº«ä½ çš„ä¿¡ä»°æ•…äº‹',
        'åƒèˆ‡ä¸€é …é—œæ‡·ç¤¾å€çš„æœäº‹ï¼Œè®“ä¿¡ä»°èˆ‡è¡Œå‹•çµåˆ'
      ],
      warning: 'åªæœ‰å…§èšè€Œæ²’æœ‰å¤–å±•çš„ä¿¡ä»°ï¼Œå®¹æ˜“è®Šå¾—è‡ªæˆ‘ä¸­å¿ƒã€‚'
    }
  },
  {
    id: 'together', name: 'å‘æ—ï¼šè‚¢é«”çš„é€£çµ', icon: 'ğŸ¤', color: 'amber',
    description: 'åœ˜å¥‘ã€å½¼æ­¤ç›¸æ„›ã€äº’ç›¸å»ºé€ ',
    questions: [
      'æˆ‘æœ‰å¯ä»¥èªªçœŸè©±ã€å½¼æ­¤ä»£ç¦±çš„å±¬éˆå¤¥ä¼´',
      'æˆ‘é¡˜æ„è®“äººçœ‹è¦‹æˆ‘çš„è»Ÿå¼±ï¼Œä¹Ÿé¡˜æ„æ‰¿æ¥åˆ¥äººçš„è»Ÿå¼±',
      'æˆ‘ä¸»å‹•é—œå¿ƒå¼Ÿå…„å§Šå¦¹ï¼Œä¸åªåœ¨èšæœƒä¸­',
      'æˆ‘ç¶“æ­·éåœ¨å›°é›£ä¸­è¢«è‚¢é«”æ‰¶æŒçš„æº«æš–'
    ],
    teaching: {
      core: 'åŸºç£å¾’çš„ç”Ÿå‘½ä¸æ˜¯ç¨è¡Œä¿ ã€‚æˆ‘å€‘è¢«å‘¼å¬é€²å…¥ä¸€å€‹å½¼æ­¤ç›¸æ„›ã€å½¼æ­¤å»ºé€ çš„ç¾¤é«”ã€‚',
      scripture: [
        { verse: 'å…©å€‹äººç¸½æ¯”ä¸€å€‹äººå¥½...è‹¥æ˜¯è·Œå€’ï¼Œé€™äººå¯ä»¥æ‰¶èµ·ä»–çš„åŒä¼´ã€‚', ref: 'å‚³é“æ›¸ 4:9-10' },
        { verse: 'ä½ å€‘è¦å½¼æ­¤èªç½ªï¼Œäº’ç›¸ä»£æ±‚ï¼Œä½¿ä½ å€‘å¯ä»¥å¾—é†«æ²»ã€‚', ref: 'é›…å„æ›¸ 5:16' },
        { verse: 'æˆ‘å€‘å„äººå‹™è¦å«é„°èˆå–œæ‚…ï¼Œä½¿ä»–å¾—ç›Šè™•ï¼Œå»ºç«‹å¾·è¡Œã€‚', ref: 'ç¾…é¦¬æ›¸ 15:2' }
      ],
      practices: [
        'ä¸»å‹•ç´„ä¸€ä½å¼Ÿå…„å§Šå¦¹æ·±åº¦äº¤è«‡ï¼Œä¸åªæ˜¯å¯’æš„',
        'åœ¨å°çµ„ä¸­åˆ†äº«ä¸€å€‹ä½ æ­£åœ¨é¢å°çš„æŒ‘æˆ°ï¼Œé‚€è«‹ä»£ç¦±',
        'è¨˜ä½çµ„å“¡çš„éœ€è¦ï¼Œåœ¨é€±é–“å‚³è¨Šæ¯é—œå¿ƒ'
      ],
      warning: 'åœ¨æ•™æœƒä¸­æ„Ÿåˆ°å­¤å–®ï¼Œå¾€å¾€æ˜¯å› ç‚ºæˆ‘å€‘åªé¡˜æ„å±•ç¤ºå…‰é®®çš„ä¸€é¢ã€‚'
    }
  },
  {
    id: 'service', name: 'å‘å‰ï¼šæ©è³œçš„ç™¼æ®', icon: 'âš¡', color: 'purple',
    description: 'æœäº‹ã€æ©è³œã€å»ºé€ æ•™æœƒ',
    questions: [
      'æˆ‘çŸ¥é“ç¥çµ¦æˆ‘çš„æ©è³œï¼Œä¸¦åœ¨æœäº‹ä¸­ç™¼æ®',
      'æˆ‘çš„æœäº‹æ˜¯å‡ºæ–¼æ„Ÿæ©èˆ‡å–œæ¨‚ï¼Œè€Œéè²¬ä»»æˆ–å£“åŠ›',
      'æˆ‘åœ¨æœäº‹ä¸­ç¶“æ­·èˆ‡ç¥åŒå·¥çš„æ»¿è¶³',
      'æˆ‘é¡˜æ„æ ½åŸ¹ä»–äººï¼Œè€Œéç¨æ”¬æœäº‹'
    ],
    teaching: {
      core: 'æ¯å€‹åŸºç£å¾’éƒ½é ˜å—äº†æ©è³œï¼Œç‚ºè¦å»ºé€ åŸºç£çš„èº«é«”ã€‚æœäº‹ä¸æ˜¯å°‘æ•¸äººçš„è²¬ä»»ï¼Œè€Œæ˜¯æ‰€æœ‰äººçš„å‘¼å¬ã€‚',
      scripture: [
        { verse: 'å„äººè¦ç…§æ‰€å¾—çš„æ©è³œå½¼æ­¤æœäº‹ï¼Œä½œç¥ç™¾èˆ¬æ©è³œçš„å¥½ç®¡å®¶ã€‚', ref: 'å½¼å¾—å‰æ›¸ 4:10' },
        { verse: 'æˆ‘å€‘å„äººè’™æ©ï¼Œéƒ½æ˜¯ç…§åŸºç£æ‰€é‡çµ¦å„äººçš„æ©è³œã€‚', ref: 'ä»¥å¼—æ‰€æ›¸ 4:7' },
        { verse: 'å°‡èº«é«”ç»ä¸Šï¼Œç•¶ä½œæ´»ç¥­...é€™æ˜¯ä½ å€‘ç†æ‰€ç•¶ç„¶çš„äº‹å¥‰ã€‚', ref: 'ç¾…é¦¬æ›¸ 12:1' }
      ],
      practices: [
        'åšæ©è³œæ¸¬é©—ï¼Œèªè­˜ç¥çµ¦ä½ çš„ç¨ç‰¹çµ„åˆ',
        'æ‰¾ä¸€å€‹ä½ æœ‰æ„Ÿå‹•çš„æœäº‹å´—ä½ï¼Œå¾å°äº‹é–‹å§‹å˜—è©¦',
        'è§€å¯Ÿèª°å¯ä»¥è¢«æ ½åŸ¹ï¼Œåˆ»æ„é‚€è«‹ä»–å€‘ä¸€èµ·æœäº‹'
      ],
      warning: 'éåº¦æœäº‹å°è‡´æ¯ç«­ï¼Œæˆ–æœäº‹å‹•æ©Ÿè®Šæˆè¿½æ±‚è‚¯å®šï¼Œéƒ½éœ€è¦èª¿æ•´ã€‚'
    }
  },
  {
    id: 'integrity', name: 'å‘ä¸‹ï¼šç”Ÿæ´»çš„æ•´å…¨', icon: 'ğŸª¨', color: 'slate',
    description: 'ä¿¡ä»°èˆ‡ç”Ÿæ´»çš„ä¸€è‡´æ€§',
    questions: [
      'æˆ‘åœ¨æ•™æœƒã€å®¶åº­ã€è·å ´çš„è¡¨ç¾æ˜¯ä¸€è‡´çš„',
      'æˆ‘çš„ä¿¡ä»°å½±éŸ¿æˆ‘å¦‚ä½•ä½¿ç”¨é‡‘éŒ¢ã€æ™‚é–“',
      'é¢å°è©¦æ¢æ™‚ï¼Œæˆ‘æœƒæƒ³åˆ°ä¿¡ä»°çš„åŸå‰‡',
      'æˆ‘èº«é‚Šä¸ä¿¡ä¸»çš„äººèƒ½å¾æˆ‘èº«ä¸Šçœ‹è¦‹ä¸ä¸€æ¨£çš„ç”Ÿå‘½'
    ],
    teaching: {
      core: 'çœŸå¯¦çš„ä¿¡ä»°ä¸åˆ†å ´åˆã€‚æˆ‘å€‘è¢«å‘¼å¬åœ¨æ¯ä¸€å€‹ç”Ÿæ´»é ˜åŸŸä¸­æ´»å‡ºåŸºç£çš„æ¨£å¼ã€‚',
      scripture: [
        { verse: 'ä½ è¦ä¿å®ˆä½ å¿ƒï¼Œå‹éä¿å®ˆä¸€åˆ‡ï¼Œå› ç‚ºä¸€ç”Ÿçš„æœæ•ˆæ˜¯ç”±å¿ƒç™¼å‡ºã€‚', ref: 'ç®´è¨€ 4:23' },
        { verse: 'äººæ˜¯çœ‹å¤–è²Œï¼›è€¶å’Œè¯æ˜¯çœ‹å…§å¿ƒã€‚', ref: 'æ’’æ¯è€³è¨˜ä¸Š 16:7' },
        { verse: 'ç„¡è«–åšä»€éº¼ï¼Œéƒ½è¦å¾å¿ƒè£¡åšï¼Œåƒæ˜¯çµ¦ä¸»åšçš„ï¼Œä¸æ˜¯çµ¦äººåšçš„ã€‚', ref: 'æ­Œç¾…è¥¿æ›¸ 3:23' }
      ],
      practices: [
        'æª¢è¦–ä½ æœ€é›£æ´»å‡ºä¿¡ä»°çš„å ´åŸŸï¼Œç‚ºé‚£è™•å¢ƒç¦±å‘Š',
        'è«‹ä¸€ä½è¦ªè¿‘çš„äººçµ¦ä½ èª å¯¦çš„å›é¥‹',
        'åœ¨è·å ´æˆ–å®¶åº­ä¸­é¸æ“‡ä¸€å€‹å…·é«”æ”¹è®Šä¾†å¯¦è¸'
      ],
      warning: 'å…§å¤–ä¸ä¸€è‡´çš„ç”Ÿå‘½ï¼Œé•·æœŸæœƒä¾µè•æˆ‘å€‘çš„å±¬éˆç”Ÿå‘½åŠ›ã€‚'
    }
  }
];

let currentDim = 0;
let responses = {};

function startAssessment() {
  document.getElementById('intro-screen').classList.add('hidden');
  document.getElementById('assessment-screen').classList.remove('hidden');
  renderDimension();
}

function renderDimension() {
  const dim = dimensions[currentDim];
  
  // Progress bar
  let progressHtml = '';
  dimensions.forEach((d, i) => {
    const color = i <= currentDim ? `bar-${d.color}` : '';
    progressHtml += `<div class="progress-segment ${color}"></div>`;
  });
  document.getElementById('progress-bar').innerHTML = progressHtml;
  
  // Dimension header
  document.getElementById('dimension-header').innerHTML = `
    <div class="dimension-header dim-${dim.color}">
      <span class="dimension-icon">${dim.icon}</span>
      <div>
        <div class="dimension-title">${dim.name}</div>
        <div class="dimension-desc">${dim.description}</div>
      </div>
    </div>
  `;
  
  // Questions
  let questionsHtml = '';
  dim.questions.forEach((q, i) => {
    const key = `${dim.id}-${i}`;
    const selected = responses[key];
    questionsHtml += `
      <div class="question-card">
        <p class="question-text">${q}</p>
        <div class="scale-buttons">
          ${[1,2,3,4,5].map(v => `
            <button class="scale-btn ${selected === v ? `selected bar-${dim.color}` : ''}" 
                    onclick="selectAnswer('${key}', ${v}, '${dim.color}')">${v}</button>
          `).join('')}
        </div>
        <div class="scale-labels">
          <span>ä¸ç¬¦åˆ</span>
          <span>éå¸¸ç¬¦åˆ</span>
        </div>
      </div>
    `;
  });
  document.getElementById('questions-container').innerHTML = questionsHtml;
  
  // Navigation buttons
  document.getElementById('prev-btn').style.display = currentDim === 0 ? 'none' : 'block';
  document.getElementById('next-btn').textContent = currentDim === dimensions.length - 1 ? 'æŸ¥çœ‹åˆ†æ' : 'ä¸‹ä¸€é …';
  updateNextButton();
}

function selectAnswer(key, value, color) {
  responses[key] = value;
  renderDimension();
}

function updateNextButton() {
  const dim = dimensions[currentDim];
  const allAnswered = dim.questions.every((_, i) => responses[`${dim.id}-${i}`] !== undefined);
  document.getElementById('next-btn').disabled = !allAnswered;
}

function prevDimension() {
  if (currentDim > 0) {
    currentDim--;
    renderDimension();
  }
}

function nextDimension() {
  if (currentDim < dimensions.length - 1) {
    currentDim++;
    renderDimension();
  } else {
    showResults();
  }
}

function getDimScore(dimId) {
  const dim = dimensions.find(d => d.id === dimId);
  let total = 0, count = 0;
  dim.questions.forEach((_, i) => {
    const val = responses[`${dimId}-${i}`];
    if (val !== undefined) { total += val; count++; }
  });
  return count > 0 ? (total / count) : 0;
}

function showResults() {
  document.getElementById('assessment-screen').classList.add('hidden');
  document.getElementById('result-screen').classList.remove('hidden');
  
  const scores = dimensions.map(d => ({ ...d, score: getDimScore(d.id) }));
  const avg = scores.reduce((a, b) => a + b.score, 0) / scores.length;
  const sorted = [...scores].sort((a, b) => b.score - a.score);
  
  // Result bars
  let barsHtml = '';
  scores.forEach(s => {
    barsHtml += `
      <div class="result-bar">
        <div class="result-bar-header">
          <span class="result-bar-label">${s.icon} ${s.name.split('ï¼š')[0]}</span>
          <span class="result-bar-score score-${s.color}">${s.score.toFixed(1)}</span>
        </div>
        <div class="result-bar-track">
          <div class="result-bar-fill bar-${s.color}" style="width: ${(s.score / 5) * 100}%"></div>
        </div>
      </div>
    `;
  });
  document.getElementById('result-bars').innerHTML = barsHtml;
  
  // Pattern analysis
  let pattern = {};
  if (avg >= 4) {
    pattern = { type: 'æˆç†Ÿæ•´å…¨å‹', desc: 'ä½ åœ¨å„é¢å‘éƒ½é¡¯å‡ºå¥åº·çš„ç™¼å±•ï¼Œé€™æ˜¯æŒçºŒæ“ç·´çš„çµæœã€‚', suggestion: 'ç¾åœ¨æ˜¯å¹«åŠ©ä»–äººæˆé•·çš„æ™‚å€™ï¼Œè€ƒæ…®æˆç‚ºé–€å¾’è¨“ç·´è€…æˆ–å°çµ„é•·ã€‚' };
  } else if (avg >= 3) {
    pattern = { type: 'ç©©å®šæˆé•·å‹', desc: 'ä½ æœ‰ç©©å›ºçš„åŸºç¤ï¼Œæ­£åœ¨å„é¢å‘é€æ­¥æˆé•·ã€‚', suggestion: 'è¾¨è­˜å‡ºè¼ƒå¼±çš„é¢å‘ï¼Œé€™å­¸æœŸåˆ»æ„åœ¨é‚£è£¡æŠ•å…¥ã€‚' };
  } else {
    pattern = { type: 'é‡å»ºæ ¹åŸºå‹', desc: 'ç›®å‰å¯èƒ½æ­£ç¶“æ­·æŒ‘æˆ°æœŸï¼Œæˆ–éœ€è¦é‡æ–°å»ºç«‹å±¬éˆç¿’æ…£ã€‚', suggestion: 'å…ˆå°ˆæ³¨åœ¨èˆ‡ç¥çš„é—œä¿‚å’Œè‚¢é«”é€£çµï¼Œå…¶ä»–æœƒéš¨ä¹‹æˆé•·ã€‚' };
  }
  
  const godward = getDimScore('godward'), outward = getDimScore('outward');
  const together = getDimScore('together'), service = getDimScore('service');
  
  let subtype = '';
  if (godward >= 4 && outward < 3) subtype = 'ğŸ’¡ ç´°éƒ¨ç‰¹å¾µï¼šå…§å®¤æ•¬æ‹œè€… â€” ä½ èˆ‡ç¥çš„é—œä¿‚æ·±åšï¼Œä½†éœ€è¦æ›´å¤šå‘å¤–æµéœ²ã€‚';
  else if (outward >= 4 && godward < 3) subtype = 'ğŸ’¡ ç´°éƒ¨ç‰¹å¾µï¼šè¡Œå‹•å®£æ•™è€… â€” ä½ ç†±å¿ƒå‚³ç¦éŸ³ï¼Œä½†è¦å°å¿ƒå…§åœ¨ç”Ÿå‘½çš„æ ¹åŸºã€‚';
  else if (together >= 4 && service < 3) subtype = 'ğŸ’¡ ç´°éƒ¨ç‰¹å¾µï¼šé—œä¿‚å»ºç«‹è€… â€” ä½ é‡è¦–ç¾¤é«”ç”Ÿæ´»ï¼Œä¹Ÿå¯ä»¥å˜—è©¦åœ¨æœäº‹ä¸­ç™¼æ®æ©è³œã€‚';
  else if (service >= 4 && together < 3) subtype = 'ğŸ’¡ ç´°éƒ¨ç‰¹å¾µï¼šç¨ç«‹æœäº‹è€… â€” ä½ åœ¨æœäº‹ä¸Šç›¡å¿ƒï¼Œä½†è¦æ³¨æ„èˆ‡äººçš„çœŸå¯¦é€£çµã€‚';
  
  document.getElementById('pattern-analysis').innerHTML = `
    <div class="pattern-box pattern-amber">
      <div class="pattern-title">ğŸ“‹ ä¿¡ä»°æ¨¡å¼ï¼š${pattern.type}</div>
      ${subtype ? `<p class="pattern-note">${subtype}</p>` : ''}
      <p>${pattern.desc}</p>
      <div class="suggestion-box">
        <p><strong>å»ºè­°æ–¹å‘ï¼š</strong>${pattern.suggestion}</p>
      </div>
    </div>
  `;
  
  // Strengths and growth areas
  document.getElementById('strengths').innerHTML = sorted.slice(0, 2).map(s => 
    `<p>${s.icon} ${s.name.split('ï¼š')[0]}</p>`
  ).join('');
  document.getElementById('growth-areas').innerHTML = sorted.slice(-2).map(s => 
    `<p>${s.icon} ${s.name.split('ï¼š')[0]}</p>`
  ).join('');
  
  // Teachings
  let teachingsHtml = '';
  dimensions.forEach(d => {
    teachingsHtml += `
      <div class="teaching-accordion dim-${d.color}">
        <button class="teaching-header" onclick="toggleTeaching('${d.id}')">
          <span>${d.icon} ${d.name}</span>
          <span id="arrow-${d.id}">â–¼</span>
        </button>
        <div class="teaching-content" id="teaching-${d.id}">
          <p style="margin-bottom: 12px;">${d.teaching.core}</p>
          <div class="teaching-scripture">
            <p style="color: #78716c; font-size: 12px; margin-bottom: 8px;">ğŸ“œ è–ç¶“æ ¹åŸº</p>
            ${d.teaching.scripture.map(s => `<p>ã€Œ${s.verse}ã€<span class="ref">â€” ${s.ref}</span></p>`).join('')}
          </div>
          <div class="teaching-practices">
            <p style="color: #78716c; font-size: 12px; margin-bottom: 8px;">ğŸ¯ æ“ç·´å»ºè­°</p>
            ${d.teaching.practices.map(p => `<p>â€¢ ${p}</p>`).join('')}
          </div>
          <div class="teaching-warning">
            <p>âš ï¸ ${d.teaching.warning}</p>
          </div>
        </div>
      </div>
    `;
  });
  document.getElementById('teachings-container').innerHTML = teachingsHtml;
}

function toggleTeaching(id) {
  const content = document.getElementById(`teaching-${id}`);
  const arrow = document.getElementById(`arrow-${id}`);
  if (content.classList.contains('open')) {
    content.classList.remove('open');
    arrow.textContent = 'â–¼';
  } else {
    content.classList.add('open');
    arrow.textContent = 'â–²';
  }
}

function restart() {
  currentDim = 0;
  responses = {};
  document.getElementById('result-screen').classList.add('hidden');
  document.getElementById('intro-screen').classList.remove('hidden');
}
</script>
</body>
</html>